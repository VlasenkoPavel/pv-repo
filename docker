docker images - список доступных локально образов 
docker search elasticsearch

docker pull
docker ps
docker ps -a
docker kill 
docker kill id
docker rmi -f id
docker run -it busybox sh
docker run -p 8888:80 [CONTAINER] - форвардинг порта
--rm, тогда контейнер будет автоматически удаляться при завершении
-d открепит (detach) терминал, -P сделает все открытые порты публичными и случайными,  --name имя, которое мы хотим дать контейнеру.
docker port [CONTAINER] увидеть порты.

docker stop ID 
docker stop $(docker ps -q) //остановить все
exit 

отладка
//////////////////////////////
docker exec -it %containername% bash 

DELETE
///////////////////////////////////
docker rm 305297d7a235 ff0a5c3750b9
docker rm $(docker ps -a -q -f status=exited)
docker rmi

docker rmi -f $(docker images | grep "^<none>" | awk "{print $3}") //удаление всех образов без тегов

docker volume prune
docker volume rm $(docker volume ls -f dangling=true -q)

docker system prun //удаление всех неиспольуемых объектов

BUILD
/////////////////////////////////////
docker build -t user-service .

docker build . -t demo
docker run demo node -e "console.log('Hello, World')"

sudo service docker restart

docker build -t example --build-arg ssh_prv_key="$(cat ~/.ssh/id_rsa)" --build-arg ssh_pub_key="$(cat ~/.ssh/id_rsa.pub)" --squash .

docker build -t demo --build-arg sshPublicKey="$(cat ~/.ssh/id_rsa.pub)" --build-arg sshPrivateKey="$(cat ~/.ssh/id_rsa)" .

docker run -t -i demo node app
^p^q для выхода

docker run -d -it -p3003:3003 demo node app
docker kill adoring_hoover
docker logs adoring_hoover
docker kill $(docker ps -q)
docker system prune

-yqq нужен для игнорирования вывода и автоматического выбора "Yes" во всех местах

NETWORK
////////////////////////////////////
docker network ls
docker network inspect bridge
docker network inspect foodtrucks
docker network create foodtrucks             //создает новую сеть bridge
docker run -dp 9200:9200 --net foodtrucks --name es elasticsearch   // --net запустить контейнеры внутри сети, дать контейнеру название es

docker network rm foodtrucks

COMPOSE
////////////////////////////////////////////////
docker-compose up
docker-compose up -d
docker-compose stop


EXAMPLES
////////////////////////////////////
apt-get -yqq install curl

docker run -it --rm prakhar1989/foodtrucks-web bash

docker run -it --rm prakhar1989/foodtrucks-web bash
root@35180ccc206a:/opt/flask-app# curl 172.17.0.2:9200
bash: curl: command not found
root@35180ccc206a:/opt/flask-app# apt-get -yqq install curl
root@35180ccc206a:/opt/flask-app# curl 172.17.0.2:9200

BASH EXAMPLES
////////////////////////////////////
#!/bin/bash

# build the flask container
docker build -t prakhar1989/foodtrucks-web .

# create the network
docker network create foodtrucks

# start the ES container
docker run -d --net foodtrucks -p 9200:9200 -p 9300:9300 --name es elasticsearch

# start the flask app container
docker run -d --net foodtrucks -p 5000:5000 --name foodtrucks-web prakhar1989/foodtrucks-web
docker build -t demo --build-arg sshPublicKey="$(cat /home/pvlasenko/.ssh/id_rsa.pub)" --build-arg sshPrivateKey="$(cat /home/pvlasenko/.ssh/id_rsa)" .


docker run --rm -P --name pg_test user-service-db
psql -h localhost -p 5432 -d sm_users -U gorod --password
docker run --rm -P --name pg_test usdb
docker run -v /dist:/opt/app/dist -it --rm  userserv bash
